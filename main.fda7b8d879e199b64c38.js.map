{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/notifications.js","webpack:///./index.js","webpack:///./js/search-country.js","webpack:///./js/fetchCountries.js","webpack:///./js/render-markup.js","webpack:///./templates/search-list.hbs","webpack:///./templates/country.hbs"],"names":["refs","searchForm","document","querySelector","outputContainer","defaults","styling","icons","width","delay","notify","messageType","success","text","notice","error","addEventListener","debounce","event","searchQuery","target","value","trim","fetch","then","response","json","catch","console","log","fetchCountries","data","length","markup","countryTemplate","innerHTML","insertAdjacentHTML","listTemplate","renderMarkup","Handlebars","module","exports","template","container","depth0","helpers","partials","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","nullContext","program","noop","helper","alias1","alias2","hooks","helperMissing","alias3","alias4"],"mappings":"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","file":"main.fda7b8d879e199b64c38.js","sourcesContent":["const refs = {\r\n  searchForm: document.querySelector('#js-input'),\r\n  outputContainer: document.querySelector('.js-output-container'),\r\n};\r\n\r\nexport default refs;","import '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/Material.css';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\nimport { defaults, error, notice, success } from '@pnotify/core';\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\ndefaults.width = '400px';\r\ndefaults.delay = 1500;\r\n\r\nfunction notify(messageType) {\r\n  if (messageType === 'success') {\r\n    return success({ text: 'Search completed successfully!' });\r\n  }\r\n  if (messageType === 'specify') {\r\n    return notice({ text: 'Please, specify your request' });\r\n  }\r\n  if (messageType === 'notice') {\r\n    return notice({\r\n      text: 'Too many matches found. Please, specify your request',\r\n    });\r\n  }\r\n  if (messageType === 'error') {\r\n    return error({ text: 'Sorry, incorrect request' });\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import './styles.css';\nimport debounce from 'lodash.debounce';\nimport refs from './js/refs';\nimport searchCountry from './js/search-country';\n\nrefs.searchForm.addEventListener('input', debounce(searchCountry, 500));\n\n// Есть файл fetchCountries.js с дефолтным экспортом функции fetchCountries(searchQuery),\n// возвращающей промис с массивом стран, результат запроса к API.\n// Поиск стран\n// Создай небольшое приложение поиска данных о стране по ее частичному или полному имени.\n// Используй Rest Countries API (https://restcountries.eu/), а именно ендпоинт / name (https://restcountries.eu/#api-endpoints-name),\n// возвращающий массив объектов стран попавших под критерий поиска.\n// Достаточно чтобы приложение работало для большинства стран. Некоторые страны, такие как Sudan, могут создавать проблемы,\n// поскольку название страны является частью названия другой страны, South Sudan.\n// Не нужно беспокоиться об этих исключениях.\n// Интерфейс очень простой. Название страны для поиска пользователь вводит в текстовое поле.\n// ⚠️ ВНИМАНИЕ! HTTP-запросы на бекенд происходят не по сабмиту формы, формы нет, а при наборе имени страны в инпуте, то есть по событию input.\n// Но делать HTTP-запрос при каждом нажатии клавиши нельзя, так как одновременно получится много HTTP-запросов которые будут выполняться в непредсказуемом порядке (race conditions).\n// Поэтому на обработчик события необходимо применить подход debounce и делать HTTP-запрос спустя 500мс после того, как пользователь перестал вводить текст.\n// Используй npm-пакет lodash.debounce. (https://www.npmjs.com/package/lodash.debounce)\n// Если бекенд вернул больше чем 10 стран подошедших под критерий введенный пользователем, в интерфейсе отображается нотификация о том, что необходимо сделать запрос более специфичным.\n// Для оповещений используй плагин pnotify. (https://github.com/sciactive/pnotify)\n// 1 Если ввод пользователя пустой или некорректный\n// 2 Когда найдена необходимая страна добавляем сообщение об успехе\n// 3 Если от 2 до 10 результатов просим конкретизировать запрос\n","import fetchCountries from './fetchCountries';\r\nimport renderMarkup from './render-markup';\r\nimport notify from './notifications';\r\n\r\nexport default function searchCountry(event) {\r\n  const searchQuery = event.target.value.trim();\r\n  if (searchQuery) {\r\n    return fetchCountries(searchQuery).then(data => renderMarkup(data));\r\n  }\r\n  notify('error');\r\n}\r\n","export default function fetchCountries(searchQuery) {\r\n  return fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`)\r\n    .then(response => response.json()).catch(error => console.log(error));\r\n}\r\n","import countryTemplate from '../templates/country.hbs';\r\nimport listTemplate from '../templates/search-list.hbs';\r\nimport refs from './refs';\r\nimport notify from './notifications';\r\n\r\nexport default function renderMarkup(value) {\r\n  if (value.length === 1) {\r\n    const markup = countryTemplate(...value);\r\n    refs.outputContainer.innerHTML = '';\r\n    refs.outputContainer.insertAdjacentHTML('beforeend', markup);\r\n    notify('success');\r\n    refs.searchForm.value = '';\r\n    return;\r\n  }\r\n\r\n  if (value.length >= 2 && value.length <= 10) {\r\n    const markup = listTemplate(value);\r\n    refs.outputContainer.innerHTML = '';\r\n    refs.outputContainer.insertAdjacentHTML('beforeend', markup);\r\n    notify('specify');\r\n    return;\r\n  }\r\n\r\n  if (value.length > 10) {\r\n    refs.outputContainer.innerHTML = '';\r\n    notify('notice');\r\n    return;\r\n  }\r\n\r\n  refs.outputContainer.innerHTML = '';\r\n  notify('error');\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"data__text\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"countries__list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":4,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <li class=\\\"language__item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country__card\\\">\\r\\n    <h2 class=\\\"country__name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":30},\"end\":{\"line\":2,\"column\":38}}}) : helper)))\n    + \"</h2>\\r\\n    <div class=\\\"country__data\\\">\\r\\n        <div class=\\\"country__info\\\">\\r\\n            <p class=\\\"data__text\\\"><span class=\\\"data__name\\\">Capital: </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":75},\"end\":{\"line\":5,\"column\":86}}}) : helper)))\n    + \"</p>\\r\\n            <p class=\\\"data__text\\\"><span class=\\\"data__name\\\">Population: </span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":78},\"end\":{\"line\":6,\"column\":92}}}) : helper)))\n    + \"</p>\\r\\n            <p class=\\\"data__text language__heading\\\"><span class=\\\"data__name\\\">Languages: </span></p>\\r\\n            <ul class=\\\"language__list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":11,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </ul>\\r\\n        </div>\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":18},\"end\":{\"line\":14,\"column\":26}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":33},\"end\":{\"line\":14,\"column\":41}}}) : helper)))\n    + \" flag\\\" width=\\\"480\\\">\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}